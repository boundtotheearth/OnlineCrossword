class_name PlayerState
extends Resource

@export var id: String
@export var name: String
@export var color: Color

var random_names: Array[String] = [
	"rosa",
	"lavicus",
	"miu_kurosaki",
	"clark_still",
	"oni",
	"another_robert",
	"bao",
	"seth_rollins",
	"john_crawley",
	"king_harlequin",
	"susano",
	"alba_meira",
	"master_ohga",
	"roomi",
	"another_benimaru",
	"kubira",
	"another_iori",
	"sulia_gaudeamus",
	"tizoc",
	"genjuro_kibagami",
	"ninon_beart",
	"rick_strowd",
	"ling",
	"mezu",
	"mizuki_rashojin",
	"shizuku_misawa",
	"ralf_jones",
	"carol_stanzack",
	"heavy_d!",
	"antonov",
	"hanzo_shiranui",
	"dandy-j",
	"famardy",
	"ling_xiaoyu",
	"kazuya_mishima",
	"igniz",
	"king_leo",
	"lily_mcguire",
	"billy_king",
	"yantamu",
	"eileene_heron",
	"mizuchi",
	"ryo_sakazaki",
	"youkai_kusaregedo",
	"kurenai",
	"g-mantle",
	"neo_dio",
	"panni",
	"warden",
	"guile",
	"mature",
	"ball_boy",
	"cristiano_ronaldo",
	"cammy_white",
	"akatsuki-maru",
	"marco_polo",
	"yashiro_nanakase",
	"kyosuke_shigure",
	"radel",
	"zarina",
	"alvan",
	"jan",
	"wolfgang_krauser",
	"chample",
	"shingo_yabuki",
	"zankuro_minazuki",
	"dellons",
	"gaidel",
	"mevious",
	"liu_yunfei",
	"shizuka_kusanagi",
	"gaira_caffeine",
	"nadia_cassel",
	"albert_garcia",
	"shadow_asura",
	"saisyu_kusanagi",
	"saiki",
	"wan-fu",
	"johann",
	"rinka_yoshino",
	"kaya",
	"alice_chrysler",
	"eelis",
	"love_heart",
	"maki_kagura",
	"dr.makishima",
	"tia_langray",
	"duck_king",
	"mauru",
	"b.jenet",
	"hwoarang",
	"bobby_nelson",
	"ivy_valentine",
	"suzu",
	"scotia_amundsen",
	"alessio",
	"baitang",
	"mikoto",
	"aila",
	"genshinsai",
	"ambrosia",
	"armor_ralf",
	"jigen_taishi",
	"temjin",
	"enja_kazuki",
	"kang_jae-mo",
	"falcon",
	"miss_x",
	"judeim",
	"kagetsura",
	"gintoki_sakata",
	"bonus-kun",
	"devil_jin",
	"kyoshiro_senryo",
	"saya",
	"jamie_siu",
	"aoi_kusanagi",
	"baiken",
	"hokute",
	"ryoko_izumo",
	"ukyo_tachibana",
	"ai",
	"hellstinger",
	"gato",
	"haruka_shinro",
	"sho_kamui",
	"erick",
	"lee_dao-long",
	"claude",
	"the_undertaker",
	"souji_kusanagi",
	"shermie",
	"ryu_saeba",
	"whip",
	"namino",
	"amanda",
	"hon-fu",
	"chona_chona",
	"yuda",
	"sogetsu_kazama",
	"rumi_aikawa",
	"rasputin",
	"vanessa",
	"glugan",
	"mamahaha",
	"andy_bogard",
	"gowcaizer",
	"karman_cole",
	"shikyoh",
	"nyotengu",
	"natsume",
	"re_verse",
	"tsunami",
	"jack",
	"ryu_eagle",
	"shiki",
	"beetle_master",
	"kuki",
	"dark_ran",
	"nelson",
	"jyazu",
	"richard_meyer",
	"taizan_morozumi",
	"marie_rose",
	"najd",
	"princess_athena",
	"marco_rossi",
	"rock_howard",
	"k9999",
	"hanma_yagyu",
	"goemon",
	"karakuri_hanma",
	"priestess",
	"kamui",
	"minto",
	"hikyaku",
	"soiree_meira",
	"vox_reaper",
	"chin_gentsai",
	"aku_amakusa",
	"another_k'",
	"captain_atlantis",
	"load_ran",
	"fernandez",
	"eiji_kisaragi",
	"kaede",
	"karen_okain",
	"athena_asamiya",
	"wu-ruixiang",
	"alice_nakata",
	"jhun_hoon",
	"laurence_blood",
	"asina",
	"anastasia",
	"reiji_oogami",
	"shion",
	"ocha-maro_karakuri",
	"okuni",
	"paku_paku",
	"nanja_monja",
	"reina_takida",
	"rody_birts",
	"kyoji_sendo",
	"kirian",
	"paul_phoenix",
	"kojiroh_sanada",
	"billy_kane",
	"felden",
	"draco",
	"leonhalt_domador",
	"hinako_shijo",
	"beetle_mania",
	"junko_sendo",
	"gongsun_li",
	"rachel_agni",
	"skullomania",
	"kuroko",
	"sasuke",
	"shinnosuke_kagami",
	"merlin",
	"half-shaded_shiki",
	"kyo_kusanagi",
	"jin_fuha",
	"jacques_ducalis",
	"oswald",
	"tenho",
	"chung_paifu",
	"ryofu",
	"benten",
	"platonic_twins",
	"asayuki_kizuyomina",
	"terry_bogard",
	"thief_arthur",
	"ivan_sokolov",
	"i-no",
	"jinbei_sugamata",
	"becky_lynch",
	"shizu",
	"madoka_aikawa",
	"evil_ash",
	"joe_higashi",
	"gordon_bowman",
	"violet",
	"allen_o'neil",
	"magaki",
	"ky_kiske",
	"duke_edwards",
	"meitenkun",
	"rasetsumaru",
	"pupa_salgueiro",
	"fiolina_germi",
	"sol_badguy",
	"geki_gao",
	"momoko",
	"gustav_munchausen",
	"nobunaga",
	"rudy",
	"sugoroku_matsuribayashi",
	"dolores",
	"maxima",
	"wang_koh-san",
	"hwa_jai",
	"yacopu",
	"freia_lawrence",
	"rayar_dragon",
	"blubber_man",
	"yaci_izanagi",
	"samurai",
	"orochi_chris",
	"chojuro",
	"purple_nakoruru",
	"goro_daimon",
	"jivatma",
	"shibito",
	"cham_cham",
	"mr.karate",
	"seong_mi-na",
	"jimmy_lewis",
	"mudman",
	"kisarah_westfield",
	"botan",
	"rera",
	"takato_saionji",
	"son_gokuu",
	"brian_battler",
	"jack_turner",
	"big_bear",
	"lucky_glauber",
	"lee_recca",
	"mr.big",
	"arina",
	"elizabeth_liones",
	"p-chan",
	"may",
	"hazuki_kazama",
	"alfred",
	"trevor_spacey",
	"walter_ryan",
	"payak_sitipitak",
	"choi_bounge",
	"shen_woo",
	"syuten-dozi",
	"isao_kondo",
	"lilly_kane",
	"master_barnes",
	"lin",
	"kagaribi",
	"foxy",
	"chris",
	"ranmaru",
	"isolde",
	"moriya_minakata",
	"uni-008",
	"heidern",
	"vice",
	"jin_kazama",
	"yakov",
	"fallen_rock",
	"basara",
	"angelica",
	"wild_wolf",
	"billy_lewis",
	"dizzy",
	"omega_rugal",
	"muscle_power",
	"silber",
	"buriki_girls",
	"chizuru_kagura",
	"katsura_kotaro",
	"tenhime",
	"mui_mui",
	"duo_lon",
	"roddy",
	"geon",
	"rose_bernstein",
	"sinobu_amou",
	"oboro",
	"blues_hablam",
	"gaoh",
	"nameless",
	"joker",
	"do_edge",
	"diana",
	"kaoru_watabe",
	"bandeiras_hattori",
	"shigen_naoe",
	"houoh",
	"kyo-1",
	"karasu",
	"time_buttermitt",
	"goh_kidokoro",
	"seena",
	"marie_heinlein",
	"slash",
	"hein",
	"grant",
	"fuuma_kotaro",
	"mugenji",
	"cosplayer_kyoko",
	"cheng_sinzan",
	"liu_bei",
	"krohnen_mcdougall",
	"cool_guy",
	"itokatsu",
	"drill_instructors",
	"omni_exist",
	"k'",
	"necrocaizer",
	"rodem",
	"ryu",
	"yumeji_kurokouchi",
	"ken_masters",
	"salvatore_ganacci",
	"j.carn",
	"kevin_rian",
	"joe_kusanagi",
	"chang_koehan",
	"super_geon",
	"mikato",
	"setsuna",
	"yoshitora_tokugawa",
	"jin_chonshu",
	"kim_dragon",
	"ron",
	"luise_meyrink",
	"huge_frogger",
	"gozu",
	"the_gandhara",
	"orochi",
	"oguma",
	"earthquake",
	"mars_people",
	"atomic_guy",
	"gandara",
	"smart_chang",
	"adelheid_bernstein",
	"tenjin_mikoto",
	"tony",
	"jeff_bogard",
	"kongoh",
	"nina_williams",
	"touji_sakata",
	"angel",
	"kei_odagiri",
	"darli_dagger",
	"brute",
	"j.",
	"shun'ei",
	"lynn_baker",
	"okita_sougo",
	"raiden",
	"blue_mary",
	"ms-alice",
	"neinhalt_sieger",
	"pai_chan",
	"misty",
	"jin_chonrei",
	"akari_ichijo",
	"akuma",
	"antonio",
	"associate_professor",
	"suija",
	"johnny_maximum",
	"asuka",
	"kazuki_kazama",
	"outada",
	"tohma_kuki",
	"musashi_akatsuki",
	"tokihime",
	"yuri_sakazaki",
	"chun-li",
	"cyber_woo",
	"zhou_yu",
	"leo_bradlay",
	"nagase",
	"hikage",
	"laocorn_gaudeamus",
	"tsugumi_sendo",
	"mibaba",
	"jin_tairyu",
	"black_hawk",
	"igret",
	"kouryu",
	"ayame",
	"really_ries",
	"orochi_yashiro",
	"cassandra",
	"jubei_yagyu",
	"doctor_brown",
	"sokaku_mochizuki",
	"honoka",
	"kazuma",
	"tarma_roving",
	"nicola_zaza",
	"clemence_bellamy",
	"manari",
	"leona",
	"terry_rogers",
	"takechiyo",
	"musafar",
	"jalange",
	"marion",
	"heihachi_mishima",
	"sarah_bryant",
	"akari_ichijou",
	"white",
	"shikuru",
	"cool_choi",
	"ramon",
	"wyler",
	"iori_yagami",
	"fate",
	"poppy",
	"ran_po",
	"shinsuke_takasugi",
	"pepe_rodriguez",
	"mr._jones",
	"king_lion",
	"nicotine_caffeine",
	"zeus",
	"big_bomberder",
	"chae_lim",
	"eri_kasamoto",
	"akira_yuki",
	"gunter",
	"yumi",
	"luke_sullivan",
	"sinclair",
	"jubei_yamada",
	"haon",
	"politank_z",
	"candy_diamond",
	"benimaru_nikaido",
	"geese_howard",
	"juri",
	"orochi_leona",
	"mai_shiranui",
	"nightmare_geese",
	"zero",
	"zhao_yun",
	"axel_hawk",
	"abubo_rao",
	"m._bison",
	"garros",
	"seth",
	"rouwe",
	"genan_shiranui",
	"sie_kensou",
	"goenitz",
	"arthur_schmitt",
	"mugi",
	"goblin_slayer",
	"lillien_knights",
	"binten",
	"mesia",
	"captain_kidd",
	"rugal_bernstein",
	"lucifer",
	"rob_python",
	"preecha",
	"shura",
	"angelina",
	"pielle_montario",
	"marky",
	"walter",
	"mian",
	"tyra_elson",
	"lao",
	"azami",
	"mina_majikina",
	"rai",
	"enta_girl",
	"joe_tiger",
	"elizabeth",
	"haito_kanakura",
	"cassandra_alexandra",
	"tsugumi_ichitsuka",
	"misato_shinro",
	"takuma_sakazaki",
	"yashamaru_kurama",
	"geegus",
	"taki",
	"max_eagle",
	"andrew",
	"kim_sue-il",
	"keisuke_sendo",
	"ukee",
	"sun_shangxiang",
	"aqua_slug",
	"tam_tam",
	"rolf",
	"demon_gaoh",
	"nakoruru",
	"fudohmaru",
	"jeanne_d'arc",
	"really_till",
	"cathy",
	"behemoth",
	"ranpoo",
	"song_xuandao",
	"zantetsu",
	"jacky_bryant",
	"hanzo_hattori",
	"hyena",
	"mignon_beart",
	"xiao_lon",
	"roy_wilson",
	"karin_son",
	"helene",
	"gai_tendo",
	"goodman",
	"kula_diamond",
	"enja",
	"alice_carrol",
	"michael_max",
	"ryuhaku_todoh",
	"shizumaru_hisame",
	"franco_bash",
	"clawhead",
	"hauer",
	"homura",
	"gao_gao",
	"hotaru_futaba",
	"keiichiro_washizuka",
	"golba",
	"hyakutaro_ichimonji",
	"kim_kaphwan",
	"king",
	"lenny_creston",
	"john_cena",
	"diane",
	"sankuro_yorozu",
	"gochack_bigbomb",
	"moe_habana",
	"ayame_ichitsuka",
	"alisa_bosconovitch",
	"cai_wenji",
	"hibiki_takane",
	"g.done",
	"makoto_mizoguchi",
	"kasumi_todoh",
	"freeman",
	"ramlethal_valentine",
	"hibaba",
	"rocky",
	"byakki",
	"jin-emon_hanafusa",
	"sprites",
	"marco_rodrigues",
	"krizalid",
	"brocken",
	"god_rugal",
	"asura",
	"mukuro",
	"elisabeth_blanctorche",
	"goeniko",
	"unknown",
	"jushiro_sakaki",
	"lien_neville",
	"hokutomaru",
	"brider",
	"yan_yanyang",
	"kunou_seishiro",
	"kusanagi",
	"griffon",
	"mukai",
	"poison_ghost",
	"gang-il",
	"suija_sogetsu",
	"duke",
	"iga_ninja",
	"kaori_sanada",
	"meirin",
	"bob_wilson",
	"orochi_shermie",
	"shane",
	"ubaba",
	"isla",
	"seishiro_kuki",
	"hagure_hitogata",
	"shadow_andy",
	"kofi_kingston",
	"annie_murakami",
	"astro_guy",
	"juzoh_kanzaki",
	"kim_hae-ryeong",
	"kukri",
	"iroha",
	"kyo-2",
	"sonia_romanenko",
	"nests",
	"malin",
	"xanadu",
	"ban",
	"hyo_amano",
	"oboro's_amazons",
	"syo_kirishima",
	"shaia_hishizaki",
	"clone_zero",
	"li_xiangfei",
	"tesse",
	"syota_sendo",
	"tashon_mao",
	"bizuki",
	"juri_han",
	"utan",
	"robert_garcia",
	"donald_morden",
	"shroom",
	"toshiro_hijikata",
	"sheng-long",
	"nova",
	"queen_memory",
	"eiffelyte",
	"sho_hayate",
	"mickey_rogers",
	"ash_crimson",
	"natsumi",
	"meliodas",
	"ushiwakahime",
	"hamusuke",
	"luong",
	"daruma",
	"orochi_iori",
	"sheen_genus",
	"unzen",
	"woo",
	"jamin",
	"ryuji_yamazaki",
	"verse",
	"haohmaru",
	"dwayne_johnson",
	"jun_kagami",
	"elias_patrick",
	"rimururu",
	"otoma_raga",
	"friesia_rosemary"
]
var random_descriptors: Array[String] = [
	'fan',
	'lover',
	'hater',
	'appreciator',
	'enthusiast',
	'destroyer',
	''
]

func _init() -> void:
	id = UUID.v4()
	name = make_random_name()
	color = Color(randf(), randf(), randf())

func serialize() -> Dictionary:
	return {
		'id': id,
		'name': name,
		'color': color.to_html()
	}
	
func deserialize(data: Dictionary):
	id = data.get('id', 'ERROR')
	name = data.get('name', 'ERROR')
	color = Color(data.get('color', '000000'))
	emit_changed()

static func deserialize_make(data: Dictionary) -> PlayerState:
	var instance = PlayerState.new()
	instance.deserialize(data)
	return instance

func make_random_name() -> String:
	return "%s_%s_%d" % [
		random_names.pick_random(), 
		random_descriptors.pick_random(), 
		randi_range(0, 99)
	]
